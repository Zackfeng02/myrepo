<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Customer Overview</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div th:insert="~{fragments :: navbar}"></div>
    
		<!-- Customer Information -->
		<h2 class="mt-4 mb-3">Personal Information</h2>
		<div th:if="${customer != null}" class="mb-4">
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">ID:</div>
		        <div class="col-md-10"><span th:text="${customer.customerId}"></span></div>
		    </div>
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">Username:</div>
		        <div class="col-md-10"><span th:text="${customer.username}"></span></div>
		    </div>
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">First Name:</div>
		        <div class="col-md-10"><span th:text="${customer.firstname}"></span></div>
		    </div>
            <div class="row">
		        <div class="col-md-2 font-weight-bold">Last Name:</div>
		        <div class="col-md-10"><span th:text="${customer.lastname}"></span></div>
		    </div>
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">Email:</div>
		        <div class="col-md-10"><span th:text="${customer.emailId}"></span></div>
		    </div>
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">Address:</div>
				<div class="col-md-10"><span th:text="${customer.address + ', ' + customer.city + ', ' + customer.postalcode}"></span></div>
		    </div>
		    <div class="row">
		        <div class="col-md-2 font-weight-bold">Phone Number:</div>
		        <div class="col-md-10"><span th:text="${customer.phone}"></span></div>
		    </div>
		    <div class="mt-3">
		        <p>Actions: 
		            <a th:href="@{/cus_overview/view/{id}(id=${customer.customerId})}" class="text-primary">View</a> |
		            <a th:href="@{/cus_overview/edit/{id}(id=${customer.customerId})}" class="text-primary">Edit</a> |
		            <a th:href="@{/cus_overview/delete/{id}(id=${customer.customerId})}" class="text-danger">Delete</a>
		        </p>
			</div>

    <!-- Account Information -->
        <h2 class="mt-4">Account Information</h2>
        <table class="table table-bordered">
        <thead>
            <tr>
                <th>ID</th>
                <th>Account Type</th>
                <th>Balance</th>
                <th>Overdraft Limit</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody th:if="${customer != null}">
            <tr th:each="account : ${accounts}">
                <td th:text="${account.accountNumber}"></td>
                <td th:text="${account.accountTypeCode}"></td>
                <td th:text="${account.balance}"></td>
                <td th:text="${account.overDraftLimit}"></td>
			    <td>
			        <a th:href="@{/acc_overview/view/{id}(id=${account.accountNumber})}" class="text-primary">View</a> |
			        <a th:href="@{/acc_overview/edit/{id}(id=${account.accountNumber})}" class="text-primary">Edit</a> |
			        <a th:href="@{/acc_overview/delete/{id}(id=${account.accountNumber})}" class="text-danger">Delete</a>
			    </td>
            </tr>
        </tbody>
    </table>
        <a href="/acc_overview/new" class="btn btn-primary">Create New Account</a>
    </div>
</body>
</html>
